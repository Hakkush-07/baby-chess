<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
        <meta name="theme-color" content="#dbd7d1">
        <title>{{ title }} • lichess.org</title>
        <link href="https://lichess1.org/assets/_Iis238/css/site.light.min.css" rel="stylesheet" />
        <link href="https://lichess1.org/assets/_Iis238/css/round.zh.light.min.css" rel="stylesheet" />
        <link id="piece-sprite" href="https://lichess1.org/assets/_Iis238/piece-css/cburnett.css" rel="stylesheet" />
        <meta content="Free online chess server. Play chess in a clean interface. No registration, no ads, no plugin required. Play chess with the computer, friends or random opponents." name="description">
        <link rel="mask-icon" href="https://lichess1.org/assets/_Iis238/logo/lichess.svg" style="color: black;" />
        <link rel="icon" type="image/png" href="https://lichess1.org/assets/_49LH4M/logo/lichess-favicon-512.png" sizes="512x512">
        <link rel="icon" type="image/png" href="https://lichess1.org/assets/_49LH4M/logo/lichess-favicon-256.png" sizes="256x256">
        <link rel="icon" type="image/png" href="https://lichess1.org/assets/_49LH4M/logo/lichess-favicon-192.png" sizes="192x192">
        <link rel="icon" type="image/png" href="https://lichess1.org/assets/_49LH4M/logo/lichess-favicon-128.png" sizes="128x128">
        <link rel="icon" type="image/png" href="https://lichess1.org/assets/_49LH4M/logo/lichess-favicon-64.png" sizes="64x64">
        <link id="favicon" rel="icon" type="image/png" href="https://lichess1.org/assets/_49LH4M/logo/lichess-favicon-32.png" sizes="32x32">
    </head>
    <body class="light blue Woodi Basic coords-in" data-vapid="BGr5CL0QlEYa7qW7HLqe7DFkCeTsYMLsi1Db+5Vwt1QBIs6+WxN8066AjtP8S9u+w+CbleE8xWY+qQaNEMs7sAs=" data-sound-set="standard" data-socket-domains="socket0.lichess.org,socket1.lichess.org,socket2.lichess.org,socket3.lichess.org,socket4.lichess.org,socket5.lichess.org" data-asset-url="https://lichess1.org" data-asset-version="Iis238" data-theme="light" data-piece-set="cburnett" style="--zoom:85">
        <header id="top">
            <div class="site-title-nav">
                <h1 class="site-title"><a href="/">libaby<span>.org</span></a></h1>
                <nav id="topnav" class="hover">
                    <section>
                        <a href="/analysis">Example</a>
                        <div role="group"><a href="/analysis">Analysis board</a><a href="/editor">Board editor</a><a href="/paste">Import game</a><a href="/games/search">Advanced search</a></div>
                    </section>
                </nav>
            </div>
            <div class="site-buttons">
                <div id="clinput"><a class="link" href="/search"><span data-icon=""></span></a><input spellcheck="false" autocomplete="false" aria-label="Search" placeholder="Search" /></div>
                <div class="dasher">
                    <a class="toggle link anon" href="/settings"><span title="Preferences" data-icon=""></span></a>
                </div>
                {% if current_user.is_authenticated %}
                <a id="username" href="/profile" class="signin button button-empty">{{ current_user.username }}</a>
                {% else %}
                <a href="/login" class="signin button button-empty">Log in</a>
                {% endif %}
            </div>
        </header>
        <div id="main-wrap" class="is2d">
            <main class="round">
                <aside class="round__side">
                    <div class="game__meta">
                        <section>
                            <div class="game__meta__infos" data-icon="">
                                <div>
                                    <div class="header">
                                        <div class="setup">{{ game.time_main }} + {{ game.time_increment }} • Baby Chess</div>
                                        <form method="post" action="/quit/{{ game.key }}">
                                            <button type="submit" class="submit button">Quit</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="game__meta__players">
                                {% for player in game.players %}
                                <div class="player color-icon is white text">{{ player.username }}</div>
                                {% endfor %}
                                {% for i in range(4 - game.count_players()) %}
                                <div class="player color-icon is white text">...waiting...</div>
                                {% endfor %}
                            </div>
                        </section>
                    </div>
                    <section class="mchat mchat-optional">
                        <div class="mchat__tabs nb_1">
                            <div class="mchat__tab discussion mchat__tab-active">
                              <span>Chat</span>
                            </div>
                        </div>
                        <div class="mchat__content discussion">
                            <ol id="messages" class="mchat__messages chat-v-1" role="log" aria-live="polite" aria-atomic="false"></ol>
                            <input id="chat_send" class="mchat__say" placeholder="Please be nice">
                            <button onclick="send_msg()" type="submit">Send</button>
                        </div>
                    </section>
                </aside>
                <div class="round__app">
                    <div class="round__app__board main-board">
                        <div class="cg-wrap">
                            <cg-container>
                                <cg-board>
                                    <square class="last-move" style="top:62.5%;left:62.5%"></square>
                                    <square class="last-move" style="top:50.0%;left:50.0%"></square>
                                    <piece class="white rook" style="top:87.5%;left:0.0%"></piece>
                                    <piece class="white pawn" style="top:75.0%;left:75.0%"></piece>
                                    <piece class="white knight" style="top:50.0%;left:62.5%"></piece>
                                    <piece class="black rook" style="top:0.0%;left:62.5%"></piece>
                                    <piece class="white king" style="top:87.5%;left:75.0%"></piece>
                                    <piece class="white pawn" style="top:50.0%;left:50.0%"></piece>
                                    <piece class="white pawn" style="top:75.0%;left:62.5%"></piece>
                                    <piece class="black pawn" style="top:25.0%;left:62.5%"></piece>
                                    <piece class="black pawn" style="top:25.0%;left:50.0%"></piece>
                                    <piece class="black pawn" style="top:12.5%;left:75.0%"></piece>
                                    <piece class="black pawn" style="top:37.5%;left:37.5%"></piece>
                                    <piece class="black pawn" style="top:12.5%;left:0.0%"></piece>
                                    <piece class="white bishop" style="top:75.0%;left:37.5%"></piece>
                                    <piece class="white pawn" style="top:75.0%;left:0.0%"></piece>
                                    <piece class="white rook" style="top:87.5%;left:50.0%"></piece>
                                    <piece class="white queen" style="top:75.0%;left:25.0%"></piece>
                                    <piece class="black rook" style="top:0.0%;left:0.0%"></piece>
                                    <piece class="white pawn" style="top:75.0%;left:12.5%"></piece>
                                    <piece class="black pawn" style="top:12.5%;left:62.5%"></piece>
                                    <piece class="black knight" style="top:50.0%;left:25.0%"></piece>
                                    <piece class="black pawn" style="top:12.5%;left:87.5%"></piece>
                                    <piece class="white pawn" style="top:75.0%;left:87.5%"></piece>
                                    <piece class="black king" style="top:0.0%;left:75.0%"></piece>
                                </cg-board>
                            </cg-container>
                        </div>
                    </div>
                    <div class="pocket is2d pocket-top">
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="pawn black" data-role="pawn" data-color="black" data-nb="2"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="knight black" data-role="knight" data-color="black" data-nb="0"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="bishop black" data-role="bishop" data-color="black" data-nb="1"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="rook black" data-role="rook" data-color="black" data-nb="0"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="queen black" data-role="queen" data-color="black" data-nb="1"></piece>
                            </div>
                        </div>
                    </div>
                    <div class="round__app__table" style="height: 400px"></div>
                    <div class="pocket is2d pocket-bottom">
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="pawn white" data-role="pawn" data-color="white" data-nb="1"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="knight white" data-role="knight" data-color="white" data-nb="2"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="bishop white" data-role="bishop" data-color="white" data-nb="2"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="rook white" data-role="rook" data-color="white" data-nb="0"></piece>
                            </div>
                        </div>
                        <div class="pocket-c1">
                            <div class="pocket-c2">
                                <piece class="queen white" data-role="queen" data-color="white" data-nb="0"></piece>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="round__underboard"></div>
                <div class="round__underchat"></div>
            </main>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
        <script type="text/javascript" charset="utf-8">
            var socket = io();
            socket.on("connect", function() {
                console.log("connected");
            });
            socket.on("disconnect", function() {
                console.log("disconnected");
            });
            socket.on("client_count", function(count) {
                console.log("there are " + count + " connected clients");
            });
            socket.on("message", function(data) {
                var li = document.createElement("li");
                var author = document.createElement("span");
                author.innerHTML = data.author;
                author.setAttribute("class", "user-link");
                li.appendChild(author);
                var message = document.createElement("span");
                message.innerHTML = data.message;
                li.appendChild(message);
                var list = document.getElementById("messages");
                list.insertBefore(li, list.childNodes[0]);
            });
            function send_msg() {
                var msg = document.getElementById("chat_send").value;
                var author = document.getElementById("username").innerHTML;
                document.getElementById("chat_send").value = "";
                socket.emit("message_sent", {author: author, message: msg});
            }
        </script>
    </body>
</html>